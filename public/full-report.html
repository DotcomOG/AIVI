<!DOCTYPE html>
<!--
  full-report.html
  Version: v2026.01.16-5
  Last updated: 2026-01-16
-->
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AIVIndexâ„¢ â€“ Full AI Visibility Report</title>

  <link rel="stylesheet" href="styles.css" />

  <style>
    .wrap { max-width: 960px; margin: 0 auto; padding: 28px 20px 60px; }
    .top { display:flex; justify-content:space-between; gap:18px; flex-wrap:wrap; }
    h1 { margin:0; font-size:48px; }
    h2 { margin:6px 0 0; font-size:22px; }
    .meta { margin-top:10px; font-size:14px; opacity:.8; }
    .chip { padding:10px 14px; border-radius:12px; border:1px solid #ddd; background:#f7f7f7; }
    .intro { margin-top:22px; padding:16px 18px; border-radius:16px; border:1px solid #ddd; }
    .section { margin-top:34px; }
    .sub { margin:0 0 16px; opacity:.85; }
    .box { border:1px solid #ddd; border-radius:16px; overflow:hidden; }
    .item { padding:14px 16px; border-top:1px solid #eee; }
    .item:first-child { border-top:none; }
    .title { font-weight:700; margin:0 0 6px; }
    .impact { margin:0; opacity:.9; }
    .guide { margin-top:10px; padding:12px; border-radius:12px; background:#f5f5f5; }
    .foot { margin-top:44px; padding-top:18px; border-top:1px solid #eee; font-size:13px; opacity:.7; }
  </style>
</head>

<body>
<main class="wrap">

  <div class="top">
    <div>
      <h1>AIVIndexâ„¢</h1>
      <h2>Full AI Visibility Report</h2>
      <div class="meta">Powered by <a href="https://quontora.com" target="_blank">Quontora</a></div>
    </div>
    <div class="chip">
      <strong>Analysis for:</strong> <span id="target">â€”</span>
    </div>
  </div>

  <section class="intro">
    <h3>How AI currently interprets this site</h3>
    <p>
      This report evaluates how AI systems access, interpret, and represent this website.
      The focus is AI visibility: clarity of meaning, trust signals, structural readability,
      and alignment with the patterns AI relies on when generating answers.
    </p>
  </section>

  <section class="section">
    <h3>Comprehensive Opportunities</h3>
    <p class="sub">
      Specific, actionable improvements to strengthen how AI systems interpret, trust,
      and represent your website. Items are grouped by urgency.
    </p>

    <div class="box" id="box">
      <div class="item"><p class="title">Loadingâ€¦</p></div>
    </div>
  </section>

  <div class="foot">
    This page calls <code>/api/full</code> directly.
  </div>

</main>

<script>
(async function () {
  const params = new URLSearchParams(location.search);
  const url = params.get("url");
  document.getElementById("target").textContent = url || "â€”";
  if (!url) return;

  const box = document.getElementById("box");

  let data;
  try {
    const res = await fetch(`/api/full?url=${encodeURIComponent(url)}`);
    if (!res.ok) throw new Error();
    data = await res.json();
  } catch {
    box.innerHTML = `<div class="item"><p class="title">Analysis unavailable.</p></div>`;
    return;
  }

  // ðŸ”’ SCHEMA-AGNOSTIC EXTRACTION
  const buckets =
    data?.opportunities ||
    data?.opportunityBuckets ||
    data ||
    {};

  const groups = [
    { label: "Critical Priorities", items: buckets.critical || buckets.criticalPriorities || [] },
    { label: "Strategic Improvements", items: buckets.strategic || buckets.strategicImprovements || [] },
    { label: "Incremental Enhancements", items: buckets.incremental || buckets.incrementalEnhancements || [] }
  ];

  box.innerHTML = "";
  let rendered = false;

  groups.forEach(group => {
    if (!Array.isArray(group.items) || !group.items.length) return;

    box.insertAdjacentHTML(
      "beforeend",
      `<div class="item"><p class="title">${group.label}</p></div>`
    );

    group.items.forEach(it => {
      box.insertAdjacentHTML(
        "beforeend",
        `<div class="item">
          <p class="title">${it.title || it.name || "Opportunity"}</p>
          ${it.impact ? `<p class="impact"><strong>Impact:</strong> ${it.impact}</p>` : ""}
          ${it.guidance || it.implementation_guidance ? `
            <div class="guide">
              <strong>Implementation guidance</strong>
              <p>${it.guidance || it.implementation_guidance}</p>
            </div>` : ""}
        </div>`
      );
      rendered = true;
    });
  });

  if (!rendered) {
    box.innerHTML = `<div class="item"><p class="title">No opportunities available.</p></div>`;
  }
})();
</script>

</body>
</html>

<!-- Version: v2026.01.16-5 -->
